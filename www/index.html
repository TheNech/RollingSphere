<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Rolling Sphere</title>
	<script type="text/javascript" src="./lib/socket.io.js"></script>
	<script type="text/javascript" src="./lib/jquery.min.js"></script>
	<script type="text/javascript" src="./lib/three.min.js"></script>
	<script type="text/javascript" src="./lib/OrbitControls.js"></script>
	<script type="text/javascript" src="./bootstrap/js/bootstrap.min.js"></script> 

	<link href="./css/style.css" rel="stylesheet">
	<link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="./bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
</head>
<body>
	<div id="container"></div>
	<div id="overlay-start">
		<!-- <div id="start-screen">
			
			<P>Press space to start...</P>
		</div> -->
		<p>Rolling Sphere</p>			
		<button type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#modalBox">
			Authorization
		</button>
	</div>
	
	<div id="modalBox" class="modal fade" data-backdrop="static">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close" type="button" data-dismiss="modal">
						&times;
					</button>
					<h4 class="modal-title">Authorization</h4>
				</div>
				<div class="modal-body">
					<input id="inputNickname" class="form-control" type="" value="" name="nickname" placeholder="Your nickname">
				</div>
				<div class="modal-footer">
					<button id="btnEnter" class="btn btn-success" type="button">Enter</button>
					<button class="btn btn-danger" type="button" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		$(document).ready(function(){
			$("#btnEnter").one('click', (function(){
				socket.emit('auth', { nickname: $("#inputNickname").val() });
				$("#inputNickname").val("");
			}));
		});
	</script>
		
	<div id ="overlay-gameover">
		<div class="message-container">
			<p>Game over!</p>
			<p>Score: </p>
			<button id="btn-restart">Play again</button>
		</div>
	</div>
	<div id="score"><p>Score: 0</p></div>
	<script type="text/javascript" src="./js/game.js"></script>
	<script type="text/javascript">
		var socket = io('http://localhost:8080');
		socket.on('connected', function(data) {
			console.log('My id : ' + data.id);
		});
		socket.on('new-player-connected', function(data) {
			console.log('New player was connected. Id: ' + data.id + "\tCurrent number of players is " + data.pNumber);
		});
		socket.on('player-disconnected', function(data) {
			console.log('Player was disconnected. Id: ' + data.id + "\tCurrent number of players is " + data.pNumber);
		});

		socket.on('new-global-top-score', function(data){
			console.log('new-global-top-score');
  			console.log(data);
  			console.log();
		});
	</script>
</body>
</html>
